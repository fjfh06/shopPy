{% extends "base.html" %}

{% block title %}{{ producto.nombre }} - Detalle{% endblock %}

{% block content %}
<div class="product-detail">
    <div class="product-header">
        <h1>{{ producto.nombre }}</h1>
        <span class="product-id">ID: {{ producto.id }}</span>
    </div>

    <div class="product-info">
        <div class="product-image">
            {% if producto.imagen %}
            <img src="{{ url_for('static', filename='images/productos/' + producto.imagen) }}"
                alt="{{ producto.nombre }}">
            {% else %}
            <div class="no-image">Sin imagen</div>
            {% endif %}
        </div>

        <div class="product-data">
            <div class="info-row">
                <label>Precio:</label>
                <span class="price">${{ "%.2f"|format(producto.precio) }}</span>
            </div>

            <div class="info-row">
                <label>Stock disponible:</label>
                <span>{{ producto.stock }} unidades</span>
            </div>

            {% if producto.descripcion %}
            <div class="info-row">
                <label>Descripción:</label>
                <p>{{ producto.descripcion }}</p>
            </div>
            {% endif %}
        </div>
    </div>

    <div class="product-actions">
        <form action="/carrito/{{ producto.id }}" method="POST">
            <button type="submit" class="btn btn-primary">Añadir al Carrito</button>
        </form>

        <a href="{{ url_for('editar_producto', id=producto.id) }}" class="btn btn-secondary">Editar</a>

        <form action="/eliminar/{{ producto.id }}" method="POST"
            onsubmit="return confirm('¿Estás seguro de eliminar este producto?');">
            <button type="submit" class="btn btn-danger">Eliminar</button>
        </form>

        <a href="{{ url_for('index') }}" class="btn btn-outline">Volver al catálogo</a>
    </div>
</div>
{% endblock %}