{% extends "base.html" %}

{% block title %}{{ producto.name }} - Detalle{% endblock %}

{% block content %}
<div class="product-detail">
    <div class="product-header">
        <h1>{{ producto.name }}</h1>
        <span class="product-id">ID: {{ producto.id }}</span>
    </div>

    <div class="product-info">
        <div class="product-image">
            {% if producto.img %}
            <img
                src="{{ url_for('static', filename='uploads/' + producto.img) }}"
                alt="{{ producto.name }}"
                class="product-image"
            />
            {% else %}
            <div class="no-image">Sin imagen</div>
            {% endif %}
        </div>

        <div class="product-data">
            <div class="info-row">
                <label>Precio:</label>
                <span class="price">{{ "%.2f"|format(producto.price) }}€</span>
            </div>

            <div class="info-row">
                <label>Stock disponible:</label>
                <span>{{ producto.stock }} unidades</span>
            </div>
        </div>
    </div>

    <div class="product-actions">
        <form action="/carrito/{{ producto.id }}" method="POST">
            <button type="submit" class="btn btn-primary">Añadir al Carrito</button>
        </form>

        <form action="/editar/{{ producto.id }}" method="GET">
            <button type="submit" class="btn btn-primary">Editar</button>
        </form>      

        <form action="/eliminar/{{ producto.id }}" method="POST"
            onsubmit="return confirm('¿Estás seguro de eliminar este producto?');">
            <button type="submit" class="btn btn-danger">Eliminar</button>
        </form>

        <form action="/" method="GET">
            <button type="submit" class="btn btn-primary">Volver al catálogo</button>
        </form>
    </div>
</div>
{% endblock %}